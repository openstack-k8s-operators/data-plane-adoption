---
telemetry_metric_storage_patch: |
  spec:
    telemetry:
      enabled: true
      template:
        metricStorage:
          enabled: true
          monitoringStack:
            alertingEnabled: true
            scrapeInterval: 30s
            storage:
              strategy: persistent
              retention: 24h
              persistent:
                pvcStorageRequest: 20G

telemetry_ceilometer_patch: |
  spec:
    telemetry:
      enabled: true
      template:
        ceilometer:
          passwordSelector:
            ceilometerService: CeilometerPassword
          enabled: true
          secret: osp-secret
          serviceUser: ceilometer
          notificationsBus:
            cluster: rabbitmq

telemetry_logging_patch: |
  spec:
    telemetry:
      template:
        logging:
          enabled: false
          {% if ipv6_enabled | default(false) -%}
          ipaddr: {{ internalapi_prefix_ipv6 | default('2620:cf:cf:bbbb') }}::50
          {%- else -%}
          ipaddr: {{ internalapi_prefix | default('172.17.0') }}.80
          {%- endif %}

          port: 10514
          cloNamespace: openshift-logging
telemetry_retry_delay: 5
