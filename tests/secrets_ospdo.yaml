# oc header override
oc_header: ''

install_yamls_path: /root/src/github.com/install_yamls

# Command to login to OpenShift
oc_login_command: |
  oc login -u kubeadmin -p {{ admin_password }}

storage_class: storageClass

osp18_namespace: osp18

osp18_ns_suffix: "-{{ osp18_namespace }}"

mysql_client_override|default(''): |-
  --overrides='{"apiVersion":"v1","metadata":{"annotations":{"k8s.v1.cni.cncf.io/networks":"[{\"name\": \"internalapi-{{ osp18_namespace }}\",\"namespace\": \"'"{{ osp18_namespace }}"'\"}]"}}, "spec":{"nodeSelector": {"type" : "openstack"}}}'

tripleo_passwords: ~/tripleo-standalone-passwords.yaml #CUSTOMIZE_THIS

# Adopted OSPD director operator env Baremetal fqdn
# TODO remove below hostname
adoption_host: titan134.lab.eng.tlv2.redhat.com #CUSTOMIZE_THIS
# sshpass -p{{ admin_password }} ssh root@{{ adoption_ospdo_host }}
# Adopted OpenStack admin password. Matching the install_yamls default
# to reduce developer confusion.
admin_password: 12345678 #CUSTOMIZE_THIS

# DB root passwords. Source password needs to be set based on the
# original environment, podified can be customized, it matches the
# install_yamls default to reduce developer confusion.
source_db_root_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.MysqlRootPassword') | first }}"
podified_db_root_password: 12345678

# Service account passwords (not DB passwords).
cinder_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.CinderPassword') | first }}"
glance_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.GlancePassword') | first }}"
ironic_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.IronicPassword') | first }}"
manila_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.ManilaPassword') | first }}"
neutron_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.NeutronPassword') | first }}"
heat_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.HeatPassword') | first }}"
heat_auth_encryption_key: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.HeatAuthEncryptionKey') | first }}"
nova_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.NovaPassword') | first }}"
octavia_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.OctaviaPassword') | first }}"
placement_password: "{{ lookup('file', tripleo_passwords) | from_yaml | community.general.json_query('*.PlacementPassword') | first }}"

exec_ospdoclnt_pod: oc exec -t -n openstack openstackclient

osp_controllers_ssh:
  - "{{ controller1_ssh }}"
  - "{{ controller2_ssh }}"
  - "{{ controller3_ssh }}"

controller1_ssh: "{{ exec_ospdoclnt_pod }} ssh controller-0.ctlplane "
controller2_ssh: "{{ exec_ospdoclnt_pod }} ssh controller-1.ctlplane "
controller3_ssh: "{{ exec_ospdoclnt_pod }} ssh controller-2.ctlplane "

compute1_ssh: "{{ exec_ospdoclnt_pod }} ssh compute-0.ctlplane "
compute2_ssh: "{{ exec_ospdoclnt_pod }} ssh compute-1.ctlplane "

# install_yamls default: ~/install_yamls/out/edpm/ansibleee-ssh-key-id_rsa
edpm_privatekey_path: ~/install_yamls/out/edpm/ansibleee-ssh-key-id_rsa #CUSTOMIZE_THIS

# internalapi ip for the mariadb-copy-data pod, should not clash with any director operator template ips
mariadb_clnt_pod_ip: 172.17.0.33/24
